<!-- src/app/mannequin/mannequin.html -->
<div class="mannequin-container">
  <div class="mannequin-header">
    <h2>Virtual Try-On</h2>
    <button *ngIf="placedItems().length > 0" (click)="clearAll()" class="clear-btn">
      Clear All
    </button>
  </div>

  <div class="mannequin-area"
       (dragover)="onDragOver($event)"
       (drop)="onDrop($event)">

    <ko-stage [config]="stageConfig">
      <ko-layer [config]="layerConfig">
        <ko-image *ngFor="let item of placedItems()" [config]="item"></ko-image>
      </ko-layer>
    </ko-stage>

    <!-- Placed Clothing Items -->
    <div class="clothing-layer">
      <div *ngFor="let item of placedItems()"
           [ngClass]="['placed-item', 'category-' + item.category]"
           [style.left.px]="item.position.x"
           [style.top.px]="item.position.y"
           [style.z-index]="item.zIndex"
           [style.width.px]="item.width"
           [style.height.px]="item.height">

        <img [src]="item.imageUrl"
             [alt]="item.name"
             class="clothing-image">

        <button class="remove-item-btn"
                (click)="removeItem(item.id)"
                title="Remove item">Ã—</button>
      </div>
    </div>

    <!-- Drop Zone Hint -->
    <div *ngIf="placedItems().length === 0" class="drop-hint">
      <p>ðŸ‘— Drag clothing here to try it on!</p>
    </div>
  </div>
</div>
